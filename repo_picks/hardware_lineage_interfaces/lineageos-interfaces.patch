From 85da62c78801f3b76e6f013bd8cfd37ecc80e735 Mon Sep 17 00:00:00 2001
From: Paul Keith <javelinanddart@gmail.com>
Date: Fri, 10 Aug 2018 05:13:48 +0200
Subject: [PATCH 1/2] interfaces: Add 2.0 livedisplay interfaces

* Based on livedisplay@1.0 and lineagehw

Change-Id: I82845337d40eb0263487453f0899ab5069b5ad49
---
 livedisplay/2.0/Android.bp                   | 23 +++++++++++++++
 livedisplay/2.0/IAdaptiveBacklight.hal       | 22 ++++++++++++++
 livedisplay/2.0/IAutoContrast.hal            | 22 ++++++++++++++
 livedisplay/2.0/IColorBalance.hal            | 25 ++++++++++++++++
 livedisplay/2.0/IColorEnhancement.hal        | 22 ++++++++++++++
 livedisplay/2.0/IDisplayColorCalibration.hal | 24 +++++++++++++++
 livedisplay/2.0/IDisplayModes.hal            | 26 ++++++++++++++++
 livedisplay/2.0/IPictureAdjustment.hal       | 31 ++++++++++++++++++++
 livedisplay/2.0/IReadingEnhancement.hal      | 22 ++++++++++++++
 livedisplay/2.0/ISunlightEnhancement.hal     | 22 ++++++++++++++
 10 files changed, 239 insertions(+)
 create mode 100644 livedisplay/2.0/Android.bp
 create mode 100644 livedisplay/2.0/IAdaptiveBacklight.hal
 create mode 100644 livedisplay/2.0/IAutoContrast.hal
 create mode 100644 livedisplay/2.0/IColorBalance.hal
 create mode 100644 livedisplay/2.0/IColorEnhancement.hal
 create mode 100644 livedisplay/2.0/IDisplayColorCalibration.hal
 create mode 100644 livedisplay/2.0/IDisplayModes.hal
 create mode 100644 livedisplay/2.0/IPictureAdjustment.hal
 create mode 100644 livedisplay/2.0/IReadingEnhancement.hal
 create mode 100644 livedisplay/2.0/ISunlightEnhancement.hal

diff --git a/livedisplay/2.0/Android.bp b/livedisplay/2.0/Android.bp
new file mode 100644
index 0000000..28f165d
--- /dev/null
+++ b/livedisplay/2.0/Android.bp
@@ -0,0 +1,23 @@
+// This file is autogenerated by hidl-gen -Landroidbp.
+
+hidl_interface {
+    name: "vendor.lineage.livedisplay@2.0",
+    root: "vendor.lineage",
+    srcs: [
+        "IAdaptiveBacklight.hal",
+        "IAutoContrast.hal",
+        "IColorBalance.hal",
+        "IColorEnhancement.hal",
+        "IDisplayColorCalibration.hal",
+        "IDisplayModes.hal",
+        "IPictureAdjustment.hal",
+        "IReadingEnhancement.hal",
+        "ISunlightEnhancement.hal",
+    ],
+    interfaces: [
+        "android.hidl.base@1.0",
+        "vendor.lineage.livedisplay@1.0",
+    ],
+    gen_java: true,
+}
+
diff --git a/livedisplay/2.0/IAdaptiveBacklight.hal b/livedisplay/2.0/IAdaptiveBacklight.hal
new file mode 100644
index 0000000..810fe9f
--- /dev/null
+++ b/livedisplay/2.0/IAdaptiveBacklight.hal
@@ -0,0 +1,22 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.livedisplay@2.0;
+
+interface IAdaptiveBacklight {
+    isEnabled() generates (bool rc);
+    setEnabled(bool enabled) generates (bool rc);
+};
diff --git a/livedisplay/2.0/IAutoContrast.hal b/livedisplay/2.0/IAutoContrast.hal
new file mode 100644
index 0000000..a5d3d68
--- /dev/null
+++ b/livedisplay/2.0/IAutoContrast.hal
@@ -0,0 +1,22 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.livedisplay@2.0;
+
+interface IAutoContrast {
+    isEnabled() generates (bool rc);
+    setEnabled(bool enabled) generates (bool rc);
+};
diff --git a/livedisplay/2.0/IColorBalance.hal b/livedisplay/2.0/IColorBalance.hal
new file mode 100644
index 0000000..7b36b3f
--- /dev/null
+++ b/livedisplay/2.0/IColorBalance.hal
@@ -0,0 +1,25 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.livedisplay@2.0;
+
+import vendor.lineage.livedisplay@1.0::types;
+
+interface IColorBalance {
+    getColorBalanceRange() generates (Range range);
+    getColorBalance() generates (int32_t value);
+    setColorBalance(int32_t value) generates (bool rc);
+};
diff --git a/livedisplay/2.0/IColorEnhancement.hal b/livedisplay/2.0/IColorEnhancement.hal
new file mode 100644
index 0000000..d107967
--- /dev/null
+++ b/livedisplay/2.0/IColorEnhancement.hal
@@ -0,0 +1,22 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.livedisplay@2.0;
+
+interface IColorEnhancement {
+    isEnabled() generates (bool rc);
+    setEnabled(bool enabled) generates (bool rc);
+};
diff --git a/livedisplay/2.0/IDisplayColorCalibration.hal b/livedisplay/2.0/IDisplayColorCalibration.hal
new file mode 100644
index 0000000..58e1552
--- /dev/null
+++ b/livedisplay/2.0/IDisplayColorCalibration.hal
@@ -0,0 +1,24 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.livedisplay@2.0;
+
+interface IDisplayColorCalibration {
+    getMaxValue() generates (int32_t max);
+    getMinValue() generates (int32_t min);
+    getCalibration() generates (vec<int32_t> rgb);
+    setCalibration(vec<int32_t> rgb) generates (bool rc);
+};
diff --git a/livedisplay/2.0/IDisplayModes.hal b/livedisplay/2.0/IDisplayModes.hal
new file mode 100644
index 0000000..f1e4ac8
--- /dev/null
+++ b/livedisplay/2.0/IDisplayModes.hal
@@ -0,0 +1,26 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.livedisplay@2.0;
+
+import vendor.lineage.livedisplay@1.0::types;
+
+interface IDisplayModes {
+    getDisplayModes() generates (vec<DisplayMode> modes);
+    getCurrentDisplayMode() generates (DisplayMode mode);
+    getDefaultDisplayMode() generates (DisplayMode mode);
+    setDisplayMode(int32_t modeID, bool makeDefault) generates (bool rc);
+};
diff --git a/livedisplay/2.0/IPictureAdjustment.hal b/livedisplay/2.0/IPictureAdjustment.hal
new file mode 100644
index 0000000..cd53f4a
--- /dev/null
+++ b/livedisplay/2.0/IPictureAdjustment.hal
@@ -0,0 +1,31 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.livedisplay@2.0;
+
+import vendor.lineage.livedisplay@1.0::types;
+
+interface IPictureAdjustment {
+    getHueRange() generates (Range range);
+    getSaturationRange() generates (FloatRange range);
+    getIntensityRange() generates (FloatRange range);
+    getContrastRange() generates (FloatRange range);
+    getSaturationThresholdRange() generates (FloatRange range);
+
+    getPictureAdjustment() generates (HSIC hsic);
+    getDefaultPictureAdjustment() generates (HSIC hsic);
+    setPictureAdjustment(HSIC hsic) generates (bool rc);
+};
diff --git a/livedisplay/2.0/IReadingEnhancement.hal b/livedisplay/2.0/IReadingEnhancement.hal
new file mode 100644
index 0000000..9b7c393
--- /dev/null
+++ b/livedisplay/2.0/IReadingEnhancement.hal
@@ -0,0 +1,22 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.livedisplay@2.0;
+
+interface IReadingEnhancement {
+    isEnabled() generates (bool rc);
+    setEnabled(bool enabled) generates (bool rc);
+};
diff --git a/livedisplay/2.0/ISunlightEnhancement.hal b/livedisplay/2.0/ISunlightEnhancement.hal
new file mode 100644
index 0000000..18dbd25
--- /dev/null
+++ b/livedisplay/2.0/ISunlightEnhancement.hal
@@ -0,0 +1,22 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.livedisplay@2.0;
+
+interface ISunlightEnhancement {
+    isEnabled() generates (bool rc);
+    setEnabled(bool enabled) generates (bool rc);
+};
-- 
2.19.1


From 7fb264a56d5a07155b87ef9d0369a51dfa1110a8 Mon Sep 17 00:00:00 2001
From: Paul Keith <javelinanddart@gmail.com>
Date: Fri, 10 Aug 2018 15:33:20 +0200
Subject: [PATCH 2/2] interfaces: Add touch HIDL interface definitions

Change-Id: I67bada5557c7242ab0072dd374a63cd3cb681d6e
---
 touch/1.0/Android.bp              | 21 +++++++++++++++++++++
 touch/1.0/IGloveMode.hal          | 21 +++++++++++++++++++++
 touch/1.0/IKeyDisabler.hal        | 21 +++++++++++++++++++++
 touch/1.0/IStylusMode.hal         | 21 +++++++++++++++++++++
 touch/1.0/ITouchscreenGesture.hal | 22 ++++++++++++++++++++++
 touch/1.0/types.hal               | 23 +++++++++++++++++++++++
 6 files changed, 129 insertions(+)
 create mode 100644 touch/1.0/Android.bp
 create mode 100644 touch/1.0/IGloveMode.hal
 create mode 100644 touch/1.0/IKeyDisabler.hal
 create mode 100644 touch/1.0/IStylusMode.hal
 create mode 100644 touch/1.0/ITouchscreenGesture.hal
 create mode 100644 touch/1.0/types.hal

diff --git a/touch/1.0/Android.bp b/touch/1.0/Android.bp
new file mode 100644
index 0000000..8b1fd27
--- /dev/null
+++ b/touch/1.0/Android.bp
@@ -0,0 +1,21 @@
+// This file is autogenerated by hidl-gen -Landroidbp.
+
+hidl_interface {
+    name: "vendor.lineage.touch@1.0",
+    root: "vendor.lineage",
+    srcs: [
+        "types.hal",
+        "IGloveMode.hal",
+        "IKeyDisabler.hal",
+        "IStylusMode.hal",
+        "ITouchscreenGesture.hal",
+    ],
+    interfaces: [
+        "android.hidl.base@1.0",
+    ],
+    types: [
+        "Gesture",
+    ],
+    gen_java: true,
+}
+
diff --git a/touch/1.0/IGloveMode.hal b/touch/1.0/IGloveMode.hal
new file mode 100644
index 0000000..e5ac07e
--- /dev/null
+++ b/touch/1.0/IGloveMode.hal
@@ -0,0 +1,21 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.touch@1.0;
+
+interface IGloveMode {
+    setEnabled(bool enabled);
+};
diff --git a/touch/1.0/IKeyDisabler.hal b/touch/1.0/IKeyDisabler.hal
new file mode 100644
index 0000000..89c4783
--- /dev/null
+++ b/touch/1.0/IKeyDisabler.hal
@@ -0,0 +1,21 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.touch@1.0;
+
+interface IKeyDisabler {
+    setEnabled(bool enabled);
+};
diff --git a/touch/1.0/IStylusMode.hal b/touch/1.0/IStylusMode.hal
new file mode 100644
index 0000000..a27b5b0
--- /dev/null
+++ b/touch/1.0/IStylusMode.hal
@@ -0,0 +1,21 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.touch@1.0;
+
+interface IStylusMode {
+    setEnabled(bool enabled);
+};
diff --git a/touch/1.0/ITouchscreenGesture.hal b/touch/1.0/ITouchscreenGesture.hal
new file mode 100644
index 0000000..6e2190a
--- /dev/null
+++ b/touch/1.0/ITouchscreenGesture.hal
@@ -0,0 +1,22 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.touch@1.0;
+
+interface ITouchscreenGesture {
+    getSupportedGestures() generates (vec<Gesture> gestures);
+    setGestureEnabled(Gesture gesture, bool enabled);
+};
diff --git a/touch/1.0/types.hal b/touch/1.0/types.hal
new file mode 100644
index 0000000..77ef4f0
--- /dev/null
+++ b/touch/1.0/types.hal
@@ -0,0 +1,23 @@
+/*
+ * Copyright (C) 2018 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.touch@1.0;
+
+struct Gesture {
+    int32_t id;
+    string name;
+    int32_t keycode;
+};
-- 
2.19.1

